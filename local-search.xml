<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>PicGo+Gitee搭建在线图床</title>
    <link href="/posts/PicGo+Gitee%E6%90%AD%E5%BB%BA%E5%9C%A8%E7%BA%BF%E5%9B%BE%E5%BA%8A/"/>
    <url>/posts/PicGo+Gitee%E6%90%AD%E5%BB%BA%E5%9C%A8%E7%BA%BF%E5%9B%BE%E5%BA%8A/</url>
    
    <content type="html"><![CDATA[<h3 id="PicGo-Gitee搭建在线图床"><a href="#PicGo-Gitee搭建在线图床" class="headerlink" title="PicGo+Gitee搭建在线图床"></a>PicGo+Gitee搭建在线图床</h3><h4 id="1需求背景"><a href="#1需求背景" class="headerlink" title="1需求背景"></a>1需求背景</h4><p>​        因为博客是搭在github上的，github本身速度就慢，如果文章图片太多的话，那速度估计泡杯茶回来才能完全加载完。所以需要一个在线图床在做图片的载体，提高博客的响应速度。用这个笔记记录整个搭建过程。</p><h4 id="2PicGo部分"><a href="#2PicGo部分" class="headerlink" title="2PicGo部分"></a>2PicGo部分</h4><h5 id="2-1，下载PicGo"><a href="#2-1，下载PicGo" class="headerlink" title="2.1，下载PicGo"></a>2.1，下载PicGo</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs url">https:&#x2F;&#x2F;github.com&#x2F;Molunerfinn&#x2F;PicGo&#x2F;releases<br></code></pre></td></tr></table></figure><p><img src="https://gitee.com/iszheng/pico/raw/master/img/2021-01-13-23-01-15-b8a7c0.png" alt="releases页面"></p><p>第一次使用，还是选择正式版比较稳妥，往下拉，找到最新的正式版来用。</p><p><img src="https://gitee.com/iszheng/pico/raw/master/img/2021-01-13-23-01-30-70b0b0.png" alt="截屏2021-01-11 下午9.45.13"></p><p>这里下载2.2.2稳定版。（PicGo-2.2.2.dmg）</p><p>这里吐槽一下，软件打开，默认是没有任何界面，图标躲在上面状态栏里面，右击弹出菜单</p><p><img src="/images/%E6%88%AA%E5%B1%8F2021-01-11%20%E4%B8%8B%E5%8D%889.49.24.png" alt="截屏2021-01-11 下午9.49.24"></p><p><img src="https://gitee.com/iszheng/pico/raw/master/img/2021-01-13-23-01-30-70b0b0.png" alt="截屏2021-01-11 下午9.50.58"></p><h5 id="2-2，下载Gitee插件"><a href="#2-2，下载Gitee插件" class="headerlink" title="2.2，下载Gitee插件"></a>2.2，下载Gitee插件</h5><p><img src="https://gitee.com/iszheng/pico/raw/master/img/2021-01-13-23-01-42-38cb1f.png" alt="截屏2021-01-11 下午9.55.03"></p><p>选择gitee-uploader这个插件下载安装。</p><p>然后配置插件</p><p><img src="https://gitee.com/iszheng/pico/raw/master/img/2021-01-13-23-01-42-38cb1f.png" alt="截屏2021-01-11 下午9.58.53"></p><p>repo：仓库名称；</p><p>branch：pages的分值；</p><p>token：</p><p>path:</p><p>customPath:</p><p>customUrl:</p><p>这些配置等下面gitee弄好再回来设置</p><h5 id="2-3，下载picgo-plugin-compress和imagemin插件"><a href="#2-3，下载picgo-plugin-compress和imagemin插件" class="headerlink" title="2.3，下载picgo-plugin-compress和imagemin插件"></a>2.3，下载picgo-plugin-compress和imagemin插件</h5><p>不知道是什么原因，之前在插件设置里面无法安装picgo-plugin-compress插件，去picgo-plugin-compress的 <a href="https://github.com/JuZiSang/picgo-plugin-compress">github</a> 页面找，发现了<a href="https://picgo.github.io/PicGo-Core-Doc/zh/dev-guide/deploy.html#gui%E6%8F%92%E4%BB%B6">离线安装</a>的方法。</p><img src="https://gitee.com/iszheng/pico/raw/master/img/2021-01-13-23-01-48-f4d90e.png" alt="截屏2021-01-12 上午1.13.55" style="zoom:50%;" alt="right" /><h5 id="2-3-1进入PicGo的目录"><a href="#2-3-1进入PicGo的目录" class="headerlink" title="2.3.1进入PicGo的目录"></a>2.3.1进入PicGo的目录</h5><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/Users/</span>用户名<span class="hljs-regexp">/Library/</span>Application Support/picgo<br></code></pre></td></tr></table></figure><h5 id="2-3-2-安装插件"><a href="#2-3-2-安装插件" class="headerlink" title="2.3.2 安装插件"></a>2.3.2 安装插件</h5><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">npm <span class="hljs-keyword">install</span> 插件名<br></code></pre></td></tr></table></figure><p>这里要安装的是picgo-plugin-compress、imagemin</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cmake">npm <span class="hljs-keyword">install</span> picgo-plugin-compress<br>npm <span class="hljs-keyword">install</span> imagemin<br></code></pre></td></tr></table></figure><h5 id="2-3-3启用插件并重启PicGo"><a href="#2-3-3启用插件并重启PicGo" class="headerlink" title="2.3.3启用插件并重启PicGo"></a>2.3.3启用插件并重启PicGo</h5><p><img src="https://gitee.com/iszheng/pico/raw/master/img/2021-01-13-23-02-02-5f504e.png" alt="image-20210112011950932"></p><h4 id="3Gitee部分"><a href="#3Gitee部分" class="headerlink" title="3Gitee部分"></a>3Gitee部分</h4><h5 id="3-1创建pages仓库"><a href="#3-1创建pages仓库" class="headerlink" title="3.1创建pages仓库"></a>3.1创建pages仓库</h5><p><img src="https://gitee.com/iszheng/pico/raw/master/img/1610548926109-image-20210112011950932.png" alt="截屏2021-01-11 下午10.02.49"></p><p>填好3个红框的信息，然后创建仓库</p><h5 id="3-2创建私人token"><a href="#3-2创建私人token" class="headerlink" title="3.2创建私人token"></a>3.2创建私人token</h5><p>token在个人设置里面获取</p><p><img src="https://gitee.com/iszheng/pico/raw/master/img/2021-01-13-23-02-10-e94e83.png" alt="截屏2021-01-11 下午10.07.52"></p><p>勾选这个就可以，然后填一下描述，就可以创建了。注意！toekn只显示一次，要保存好。</p><p>然后回到上面的插件设置，填入相应的信息。</p><p>repo:Gitee用户名/仓库名称</p><p>token：刚刚创建的token</p><p>其他留空即可</p>]]></content>
    
    
    
    <tags>
      
      <tag>PicGo</tag>
      
      <tag>gitee</tag>
      
      <tag>图床</tag>
      
      <tag>在线</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ubuntu 挂载移动硬盘</title>
    <link href="/posts/Ubuntu%20%E6%8C%82%E8%BD%BD%E7%A7%BB%E5%8A%A8%E7%A1%AC%E7%9B%98/"/>
    <url>/posts/Ubuntu%20%E6%8C%82%E8%BD%BD%E7%A7%BB%E5%8A%A8%E7%A1%AC%E7%9B%98/</url>
    
    <content type="html"><![CDATA[<h3 id="Ubuntu-挂载移动硬盘"><a href="#Ubuntu-挂载移动硬盘" class="headerlink" title="Ubuntu 挂载移动硬盘"></a>Ubuntu 挂载移动硬盘</h3><h4 id="1-插入新硬盘，启动Linux服务器，"><a href="#1-插入新硬盘，启动Linux服务器，" class="headerlink" title="1.插入新硬盘，启动Linux服务器，"></a>1.插入新硬盘，启动Linux服务器，</h4><p>使用fdisk -l 查看硬盘　　</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">fdisk -l<br></code></pre></td></tr></table></figure><p><img src="https://gitee.com/iszheng/pico/raw/master/img/1610548966993-image-20210111174242281.png" alt="image-20210111174242281"></p><p>根据硬盘大小判断是哪个硬盘，记住名称 /dev/sda</p><h4 id="2-格式化硬盘"><a href="#2-格式化硬盘" class="headerlink" title="2.格式化硬盘"></a>2.格式化硬盘</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">mkfs -t ext4 /dev/sda<br></code></pre></td></tr></table></figure><h4 id="3-挂载硬盘"><a href="#3-挂载硬盘" class="headerlink" title="3.挂载硬盘"></a>3.挂载硬盘</h4><p>mount 硬盘地址 要挂载的地址　　</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">mount /dev/sda /hardDisk<br></code></pre></td></tr></table></figure><p>(  /hardDisk  系统上要有这个目录，没有的话要创建)</p><h4 id="4-实现系统重启后自动挂载该分区"><a href="#4-实现系统重启后自动挂载该分区" class="headerlink" title="4.实现系统重启后自动挂载该分区"></a>4.实现系统重启后自动挂载该分区</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">vi /etc/fstab<br></code></pre></td></tr></table></figure><p>在最后一行添加　</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">/dev/sda /hardDisk ext4 defaults 1 2<br></code></pre></td></tr></table></figure><p>前面 /dev/sda 为硬盘的位置，/hardDisk 为挂载点 后面的意思不懂，能用就行</p><p><img src="https://gitee.com/iszheng/pico/raw/master/img/1610548973479-image-20210111174319716.png" alt="image-20210111174319716"></p>]]></content>
    
    
    
    <tags>
      
      <tag>ubuntu</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>He DNS 自动更新ip脚本</title>
    <link href="/posts/He%20DNS%20%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0ip%E8%84%9A%E6%9C%AC/"/>
    <url>/posts/He%20DNS%20%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0ip%E8%84%9A%E6%9C%AC/</url>
    
    <content type="html"><![CDATA[<h3 id="He-DNS-自动更新ip脚本"><a href="#He-DNS-自动更新ip脚本" class="headerlink" title="He DNS 自动更新ip脚本"></a>He DNS 自动更新ip脚本</h3><p>随便一个目录下，创建sh文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash">!/bin/bash</span><br><span class="hljs-meta">#</span><span class="bash">获取此时外网ip</span><br>current_ip=`curl -s members.3322.org/dyndns/getip`<br><br><span class="hljs-meta">#</span><span class="bash">判断ip是否改变</span><br><span class="hljs-meta">#</span><span class="bash">读取文件</span><br><span class="hljs-meta">#</span><span class="bash">如果文件不存在，则创建文件</span><br>ip_file=&quot;ip_file&quot;<br>if [ ! -f &quot;$ip_file&quot; ] ; then<br>        touch &quot;$ip_file&quot;<br>fi<br><br>last_ip=$(cat ./ip_file)<br><br>if [ &quot;$current_ip&quot; != &quot;$last_ip&quot; ]; then<br>        curl &quot;https://需要解析的二级域名:动态域名的key@dyn.dns.he.net/nic/update?hostname=你的顶级域名&amp;myip=$current_ip&quot;<br>        echo &quot;$current_ip&quot; &gt; &quot;$ip_file&quot;<br>fi<br></code></pre></td></tr></table></figure><p>然后用crontab来执行</p>]]></content>
    
    
    
    <tags>
      
      <tag>ddns</tag>
      
      <tag>动态域名</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>crontab 定时器</title>
    <link href="/posts/crontab_timer/"/>
    <url>/posts/crontab_timer/</url>
    
    <content type="html"><![CDATA[<h3 id="crontab-定时器的设定"><a href="#crontab-定时器的设定" class="headerlink" title="crontab 定时器的设定"></a>crontab 定时器的设定</h3><h4 id="1，用命令调出编辑页面"><a href="#1，用命令调出编辑页面" class="headerlink" title="1，用命令调出编辑页面"></a>1，用命令调出编辑页面</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">crontab -e<br></code></pre></td></tr></table></figure><p>然后在最后添加下面这行</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">*/1 * * * * cd /home/ubuntu/sh/ddns &amp;&amp; sh ./ddns.sh &gt; log.log<br></code></pre></td></tr></table></figure><p>关于命令，格式是 </p><p><em>定时规则 命令</em></p><p>定时规则网上一大堆，随便捞就是一大把，后面的命令，如果是shell的话，要指定日志输入或者输出指向null，否则，如果服务器没有配置邮箱的话，会报以下错误。</p><p><img src="https://gitee.com/iszheng/pico/raw/master/img/1610548772024-image-20210111013052917.png" alt="错误提示"></p>]]></content>
    
    
    
    <tags>
      
      <tag>crontab</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>树莓派一键安装docker</title>
    <link href="/posts/raspberry_install_docker/"/>
    <url>/posts/raspberry_install_docker/</url>
    
    <content type="html"><![CDATA[<h2 id="树莓派一键安装docker"><a href="#树莓派一键安装docker" class="headerlink" title="树莓派一键安装docker"></a>树莓派一键安装docker</h2><h3 id="1，下载一键安装的脚本"><a href="#1，下载一键安装的脚本" class="headerlink" title="1，下载一键安装的脚本"></a>1，下载一键安装的脚本</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim">curl -fsSL http<span class="hljs-variable">s:</span>//<span class="hljs-built_in">get</span>.docker.<span class="hljs-keyword">com</span> -<span class="hljs-keyword">o</span> <span class="hljs-built_in">get</span>-docker.<span class="hljs-keyword">sh</span><br></code></pre></td></tr></table></figure><h3 id="2，运行脚本"><a href="#2，运行脚本" class="headerlink" title="2，运行脚本"></a>2，运行脚本</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">sh</span> <span class="hljs-built_in">get</span>-docker.<span class="hljs-keyword">sh</span><br></code></pre></td></tr></table></figure><h3 id="3，等待脚本"><a href="#3，等待脚本" class="headerlink" title="3，等待脚本"></a>3，等待脚本</h3><p>4，不是root用户执行脚本，安装后出现如下图所示提醒</p><p><img src="https://gitee.com/iszheng/pico/raw/master/img/1610548687618-image-20210113223807561.png" alt="image-20210113223807561"></p><p>只要依次运行如下脚本即可</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">sudo groupadd docker     <span class="hljs-comment">#添加docker用户组</span><br>sudo gpasswd -a $<span class="hljs-keyword">USER</span> <span class="hljs-title">docker</span>     <span class="hljs-comment">#将登陆用户加入到docker用户组中</span><br>newgrp docker     <span class="hljs-comment">#更新用户组</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
