<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Ubuntu 挂载移动硬盘</title>
    <link href="/posts/Ubuntu%20%E6%8C%82%E8%BD%BD%E7%A7%BB%E5%8A%A8%E7%A1%AC%E7%9B%98/"/>
    <url>/posts/Ubuntu%20%E6%8C%82%E8%BD%BD%E7%A7%BB%E5%8A%A8%E7%A1%AC%E7%9B%98/</url>
    
    <content type="html"><![CDATA[<h3 id="Ubuntu-挂载移动硬盘"><a href="#Ubuntu-挂载移动硬盘" class="headerlink" title="Ubuntu 挂载移动硬盘"></a>Ubuntu 挂载移动硬盘</h3><h4 id="1-插入新硬盘，启动Linux服务器，"><a href="#1-插入新硬盘，启动Linux服务器，" class="headerlink" title="1.插入新硬盘，启动Linux服务器，"></a>1.插入新硬盘，启动Linux服务器，</h4><p>使用fdisk -l 查看硬盘　　</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">fdisk -l<br></code></pre></td></tr></table></figure><p><img src="/images/image-20210111174242281.png" alt="image-20210111174242281"></p><p>根据硬盘大小判断是哪个硬盘，记住名称 /dev/sda</p><h4 id="2-格式化硬盘"><a href="#2-格式化硬盘" class="headerlink" title="2.格式化硬盘"></a>2.格式化硬盘</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">mkfs -t ext4 /dev/sda<br></code></pre></td></tr></table></figure><h4 id="3-挂载硬盘"><a href="#3-挂载硬盘" class="headerlink" title="3.挂载硬盘"></a>3.挂载硬盘</h4><p>mount 硬盘地址 要挂载的地址　　</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">mount /dev/sda /hardDisk<br></code></pre></td></tr></table></figure><p>(  /hardDisk  系统上要有这个目录，没有的话要创建)</p><h4 id="4-实现系统重启后自动挂载该分区"><a href="#4-实现系统重启后自动挂载该分区" class="headerlink" title="4.实现系统重启后自动挂载该分区"></a>4.实现系统重启后自动挂载该分区</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">vi /etc/fstab<br></code></pre></td></tr></table></figure><p>在最后一行添加　</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">/dev/sda /hardDisk ext4 defaults 1 2<br></code></pre></td></tr></table></figure><p>前面 /dev/sda 为硬盘的位置，/hardDisk 为挂载点 后面的意思不懂，能用就行</p><p><img src="/images/image-20210111174319716.png" alt="image-20210111174319716"></p>]]></content>
    
    
    
    <tags>
      
      <tag>ubuntu</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>He DNS 自动更新ip脚本</title>
    <link href="/posts/He%20DNS%20%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0ip%E8%84%9A%E6%9C%AC/"/>
    <url>/posts/He%20DNS%20%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0ip%E8%84%9A%E6%9C%AC/</url>
    
    <content type="html"><![CDATA[<h3 id="He-DNS-自动更新ip脚本"><a href="#He-DNS-自动更新ip脚本" class="headerlink" title="He DNS 自动更新ip脚本"></a>He DNS 自动更新ip脚本</h3><p>随便一个目录下，创建sh文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash">!/bin/bash</span><br><span class="hljs-meta">#</span><span class="bash">获取此时外网ip</span><br>current_ip=`curl -s members.3322.org/dyndns/getip`<br><br><span class="hljs-meta">#</span><span class="bash">判断ip是否改变</span><br><span class="hljs-meta">#</span><span class="bash">读取文件</span><br><span class="hljs-meta">#</span><span class="bash">如果文件不存在，则创建文件</span><br>ip_file=&quot;ip_file&quot;<br>if [ ! -f &quot;$ip_file&quot; ] ; then<br>        touch &quot;$ip_file&quot;<br>fi<br><br>last_ip=$(cat ./ip_file)<br><br>if [ &quot;$current_ip&quot; != &quot;$last_ip&quot; ]; then<br>        curl &quot;https://需要解析的二级域名:动态域名的key@dyn.dns.he.net/nic/update?hostname=你的顶级域名&amp;myip=$current_ip&quot;<br>        echo &quot;$current_ip&quot; &gt; &quot;$ip_file&quot;<br>fi<br></code></pre></td></tr></table></figure><p>然后用crontab来执行</p>]]></content>
    
    
    
    <tags>
      
      <tag>ddns</tag>
      
      <tag>动态域名</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>crontab 定时器</title>
    <link href="/posts/crontab_timer/"/>
    <url>/posts/crontab_timer/</url>
    
    <content type="html"><![CDATA[<h3 id="crontab-定时器的设定"><a href="#crontab-定时器的设定" class="headerlink" title="crontab 定时器的设定"></a>crontab 定时器的设定</h3><h4 id="1，用命令调出编辑页面"><a href="#1，用命令调出编辑页面" class="headerlink" title="1，用命令调出编辑页面"></a>1，用命令调出编辑页面</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">crontab -e<br></code></pre></td></tr></table></figure><p>然后在最后添加下面这行</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">*/1 * * * * cd /home/ubuntu/sh/ddns &amp;&amp; sh ./ddns.sh &gt; log.log<br></code></pre></td></tr></table></figure><p>关于命令，格式是 </p><p><em>定时规则 命令</em></p><p>定时规则网上一大堆，随便捞就是一大把，后面的命令，如果是shell的话，要指定日志输入或者输出指向null，否则，如果服务器没有配置邮箱的话，会报以下错误。</p><p><img src="/images/image-20210111013052917.png" alt="错误提示"></p>]]></content>
    
    
    
    <tags>
      
      <tag>crontab</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>树莓派一键安装docker</title>
    <link href="/posts/raspberry_install_docker/"/>
    <url>/posts/raspberry_install_docker/</url>
    
    <content type="html"><![CDATA[<h2 id="树莓派一键安装docker"><a href="#树莓派一键安装docker" class="headerlink" title="树莓派一键安装docker"></a>树莓派一键安装docker</h2><h3 id="1，下载一键安装的脚本"><a href="#1，下载一键安装的脚本" class="headerlink" title="1，下载一键安装的脚本"></a>1，下载一键安装的脚本</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim">curl -fsSL http<span class="hljs-variable">s:</span>//<span class="hljs-built_in">get</span>.docker.<span class="hljs-keyword">com</span> -<span class="hljs-keyword">o</span> <span class="hljs-built_in">get</span>-docker.<span class="hljs-keyword">sh</span><br></code></pre></td></tr></table></figure><h3 id="2，运行脚本"><a href="#2，运行脚本" class="headerlink" title="2，运行脚本"></a>2，运行脚本</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">sh</span> <span class="hljs-built_in">get</span>-docker.<span class="hljs-keyword">sh</span><br></code></pre></td></tr></table></figure><h3 id="3，等待脚本"><a href="#3，等待脚本" class="headerlink" title="3，等待脚本"></a>3，等待脚本</h3><p>4，不是root用户执行脚本，安装后出现如下图所示提醒</p><p><img src="/images/image-20210110222015223.png"></p><p>只要依次运行如下脚本即可</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">sudo groupadd docker     <span class="hljs-comment">#添加docker用户组</span><br>sudo gpasswd -a $<span class="hljs-keyword">USER</span> <span class="hljs-title">docker</span>     <span class="hljs-comment">#将登陆用户加入到docker用户组中</span><br>newgrp docker     <span class="hljs-comment">#更新用户组</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
